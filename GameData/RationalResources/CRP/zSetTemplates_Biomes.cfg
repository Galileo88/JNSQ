// Purge biomes
+BIOME_RESOURCE:HAS[#Tag[Nuke]]
{
	@PlanetName = Kerbin
	@BiomeName = IceCaps
	@Tag = Applied
}
+BIOME_RESOURCE:HAS[#Tag[Nuke]]:NEEDS[!JNSQ]
{
	@PlanetName = Mun
	@BiomeName = Polar Crater
	@Tag = Applied
}
+BIOME_RESOURCE:HAS[#Tag[Nuke]]:NEEDS[JNSQ]
{
	@PlanetName = Duna
	@BiomeName = IceCaps
	@Tag = Applied
}
+BIOME_RESOURCE:HAS[#Tag[Nuke]]:NEEDS[!JNSQ]
{
	@PlanetName = Duna
	@BiomeName = Poles
	@Tag = Applied
}
+BIOME_RESOURCE:HAS[#Tag[Nuke]]:NEEDS[!JNSQ]
{
	@PlanetName = Duna
	@BiomeName = Polar Craters
	@Tag = Applied
}
+BIOME_RESOURCE:HAS[#Tag[Nuke]]:NEEDS[!JNSQ]
{
	@PlanetName = Duna
	@BiomeName = Polar Highlands
	@Tag = Applied
}
+BIOME_RESOURCE:HAS[#Tag[Nuke]]:NEEDS[JNSQ]
{
	@PlanetName = Laythe
	@BiomeName = IceCaps
	@Tag = Applied
}
+BIOME_RESOURCE:HAS[#Tag[Nuke]]:NEEDS[!JNSQ]
{
	@PlanetName = Laythe
	@BiomeName = Poles
	@Tag = Applied
}
// Fill biomes
@BIOME_RESOURCE:HAS[#PlanetName[Kerbin],#BiomeName[IceCaps],#ResourceName[Water],#Tag[Applied]]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 90
		@MaxAbundance = 100
	}
}
BIOME_RESOURCE:NEEDS[CommunityResourcePack,!JNSQ]
{
	ResourceName = Water
	ResourceType = 0
	PlanetName = Minmus
	BiomeName = Poles
	Tag = Applied
	Distribution
	{
		PresenceChance = 1000
		MinAbundance = 3
		MaxAbundance = 5
		Variance = 20
		Dispersal = 3
	}
}
BIOME_RESOURCE:NEEDS[CommunityResourcePack,!JNSQ]
{
	ResourceName = Water
	ResourceType = 0
	PlanetName = Mun
	BiomeName = Poles
	Tag = Applied
	Distribution
	{
		PresenceChance = 1000
		MinAbundance = 6
		MaxAbundance = 10
		Variance = 20
		Dispersal = 3
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Mun],#BiomeName[Polar?Crater],#ResourceName[MetallicOre],#Tag[Applied]]:NEEDS[!JNSQ]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 7
		@MaxAbundance = 15
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Mun],#BiomeName[Polar?Crater],#ResourceName[MetalOre],#Tag[Applied]]:NEEDS[!JNSQ]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 7
		@MaxAbundance = 15
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Mun],#BiomeName[Polar?Crater],#ResourceName[Oxygen],#Tag[Applied]]:NEEDS[!JNSQ]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 10
		@MaxAbundance = 20
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Mun],#BiomeName[Polar?Crater],#ResourceName[Water],#Tag[Applied]]:NEEDS[!JNSQ]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 50
		@MaxAbundance = 60
	}
}
BIOME_RESOURCE:NEEDS[!JNSQ]
{
	ResourceName = Ore
	ResourceType = 0
	PlanetName = Eve
	BiomeName = Shallows
	Tag = Applied
	Distribution
	{
		PresenceChance = 1000
		MinAbundance = 12
		MaxAbundance = 15
		Variance = 50
		Dispersal = 3
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Duna],#BiomeName[IceCaps],#ResourceName[CarbonDioxide],#Tag[Applied]]:NEEDS[JNSQ]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 20
		@MaxAbundance = 30
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Duna],#BiomeName[Poles],#ResourceName[CarbonDioxide],#Tag[Applied]]:NEEDS[!JNSQ]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 20
		@MaxAbundance = 30
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Duna],#BiomeName[Polar?Craters],#ResourceName[CarbonDioxide],#Tag[Applied]]:NEEDS[!JNSQ]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 20
		@MaxAbundance = 30
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Duna],#BiomeName[Polar?Highlands],#ResourceName[CarbonDioxide],#Tag[Applied]]:NEEDS[!JNSQ]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 20
		@MaxAbundance = 30
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Duna],#BiomeName[IceCaps],#ResourceName[MetalOre],#Tag[Applied]]:NEEDS[JNSQ]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 3
		@MaxAbundance = 5
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Duna],#BiomeName[Poles],#ResourceName[MetalOre],#Tag[Applied]]:NEEDS[!JNSQ]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 3
		@MaxAbundance = 5
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Duna],#BiomeName[Polar?Craters],#ResourceName[MetalOre],#Tag[Applied]]:NEEDS[!JNSQ]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 3
		@MaxAbundance = 5
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Duna],#BiomeName[Polar?Highlands],#ResourceName[MetalOre],#Tag[Applied]]:NEEDS[!JNSQ]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 3
		@MaxAbundance = 5
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Duna],#BiomeName[IceCaps],#ResourceName[Water],#Tag[Applied]]:NEEDS[JNSQ]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 60
		@MaxAbundance = 80
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Duna],#BiomeName[Poles],#ResourceName[Water],#Tag[Applied]]:NEEDS[!JNSQ]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 60
		@MaxAbundance = 80
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Duna],#BiomeName[Polar?Craters],#ResourceName[Water],#Tag[Applied]]:NEEDS[!JNSQ]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 60
		@MaxAbundance = 80
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Duna],#BiomeName[Polar?Highlands],#ResourceName[Water],#Tag[Applied]]:NEEDS[!JNSQ]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 60
		@MaxAbundance = 80
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Laythe],#BiomeName[IceCaps],#ResourceName[Water],#Tag[Applied]]:NEEDS[JNSQ]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 90
		@MaxAbundance = 100
	}
}
@BIOME_RESOURCE:HAS[#PlanetName[Laythe],#BiomeName[Poles],#ResourceName[Water],#Tag[Applied]]:NEEDS[!JNSQ]
{
	@Distribution
	{
		@PresenceChance = 1000
		@MinAbundance = 90
		@MaxAbundance = 100
	}
}

// Purge source nodes
!BIOME_RESOURCE:HAS[#Tag[Nuke]]:FOR[zRationalResources] {}